<!--
  CountMyStuff — © 2025 Duncan Anderson. All Rights Reserved.
  This code is proprietary. You may not copy, modify, or redistribute 
  without express written permission.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CountMyStuff • Welcome</title>

  <!-- Ionic JS (for ion-button functionality) -->
  <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
  <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>  

  <!-- Ionic CSS (for consistent styling) -->
  <link href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" rel="stylesheet">

  <style>
    /* Full-screen background + allow scrolling */
    html, body {
      margin: 0;
      padding: 0;
      background: url('bg.png') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      overflow-y: auto; /* enable vertical scrolling */
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;            /* fill at least the viewport, but can grow */
      padding: 40px 20px 20px;      /* top padding + side padding */
      text-align: center;
      box-sizing: border-box;
    }

    img.logo {
      max-width: 500px;
      margin-bottom: 2rem;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: #f8f8f8;
    }

    p.lead {
      font-size: 1.1rem;
      margin-bottom: 1.5rem;
      line-height: 1.5;
      max-width: 600px;
    }

    ul {
      text-align: left;
      margin: 1rem auto 2rem;
      max-width: 600px;
      padding-left: 1.2rem;
    }

    ul li {
      margin-bottom: 0.8rem;
      line-height: 1.4;
    }

    .pricing {
      margin-top: 2rem;
      font-size: 1.2rem;
      font-weight: bold;
      color: #ffd700;
    }

    .button-group {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 2rem;
      padding-bottom: env(safe-area-inset-bottom, 20px); /* avoid mobile bottom bars */
    }

    .button-group ion-button {
      --background: #004d40;
      --color: #fff;
      --padding-start: 24px;
      --padding-end: 24px;
    }

    .button-group ion-button.outline {
      --background: transparent;
      --border-color: #004d40;
      --color: #004d40;
      border-width: 1px;
      border-style: solid;
    }

    .tut-button {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 2rem;
      padding-bottom: env(safe-area-inset-bottom, 20px); /* avoid mobile bottom bars */
    }

    .tut-button ion-button {
      --background: transparent;
      --border-color: #d69027;
      --color: #d69027;
      border-width: 3px;
      border-style: solid;
    }    

    .bottom-spacer {
      height: 200px; /* extra blank space at bottom so nothing is clipped */
      width: 100%;
      flex-shrink: 0;
    }

    footer {
      margin-top: 20px;
      font-size: 0.8rem;
      color: #bbb;
      text-align: center;
      width: 100%;
    }

    /* ─── Header with 50%-opaque bg.png ─── */
    ion-header ion-toolbar {
      /* first the overlay color, then the image */
      --background: rgb(0, 0, 0) url('bg.png') center center;
      --color:          #fff;
    }


    @media (max-width: 480px) {
      h1 {
        font-size: 2rem;
      }
      p.lead {
        font-size: 1rem;
      }
      ul li {
        font-size: 0.95rem;
      }
      .pricing {
        font-size: 1.1rem;
      }
      .bottom-spacer {
        height: 150px;
      }
    }
  </style>

  <!-- Redirect if already logged in -->
  <script>
    (async () => {
      try {
        const res = await fetch('/api/user');
        if (res.ok) {
          const data = await res.json();
          if (data.authenticated) {
            window.location.href = 'main.html';
          }
        }
      } catch (err) {
        // not logged in or network error → stay on welcome page
      }
    })();
  </script>
</head>

<body> 
  <div class="container">
    <!-- Logo at top -->
    <img src="cms-banner.png" alt="CountMyStuff Logo" class="logo">

    
    <p class="lead">
      Try out our free, in‐browser trial to explore core inventory features, no account required.  
      <strong>Note:</strong> Free‐trial data is saved temporarily, allowing you to test CountMyStuff at no charge.
      If you’d like long term storage and unrestricted access, upgrade to Premium for just $15/month.
    </p>

    <ul>
      <li><strong>Free Account (trial data saved temporarily, not long term):</strong>
        <ul>
          <li>Create up to <strong>1 room</strong>.</li>
          <li>Add up to <strong>2 areas per room</strong>.</li>
          <li>Track up to <strong>5 items per area</strong>.</li>
        </ul>
      </li>

      <li><strong>Premium ($15/month):</strong>
        <ul>
          <li><strong>Persistent storage</strong> of all your rooms, areas, and items.</li>
          <li>Unlimited rooms, areas, and item counts.</li>
          <li>Calculate and generate order e-mails using your on‐hand and par values.</li>
        </ul>
      </li>
    <div class="tut-button">
      <ion-button href="tutorial.html">
        Tap to read our tutorial and discover everything CountMyStuff can do!
      </ion-button>
    </div>          
    </ul>  

    <p class="pricing">
      Only $15/month for full functionality—far cheaper than other solutions!
    </p>  

    <!-- Extra blank area at bottom to prevent clipping on mobile -->
    <div class="bottom-spacer"></div>

    <footer>
      2025 © CountMyStuff • All rights reserved
    </footer>
  </div>

</body>
</html>
